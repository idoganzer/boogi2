---
title: Game mechanics
editable: false
---

<div align="center" style="background-color: #e5ecff">    <br/>    <div>DOC</div>    <h1>Game mechanics</h1>    <br/>  </div>

### Files Used:
ğŸ“„ src/game.js


<br/>

 Game contains all Game elements and functions.
 It's the root element and defined only one time through the G variable.
 
 NOTE: Constructor does nothing because the G object must be defined
 before creating other class instances. The game setup is triggered
 to really start the game.

attributes and variables starting with $ are jQuery elements and jQuery functions can be called directly from them.

<br/>

The game instance is where it's all connects
It will include the players, creatures and abilities

<div style="background: #e5ecff; padding: 10px 10px 10px 10px; border-bottom: 1px solid #c1c7d0; border-radius: 4px;">    ğŸ“„ src/game.js  </div>

```js
â¬œ 54     	 * creatureData :		Array :		Array containing all data for the creatures
â¬œ 55     	 *
â¬œ 56     	 */
ğŸŸ© 57     	constructor(version) {
ğŸŸ© 58     		this.version = version || 'dev';
ğŸŸ© 59     		this.abilities = [];
ğŸŸ© 60     		this.players = [];
ğŸŸ© 61     		this.creatures = [];
ğŸŸ© 62     		this.effects = [];
ğŸŸ© 63     		this.activeCreature = {
ğŸŸ© 64     			id: 0,
ğŸŸ© 65     		};
ğŸŸ© 66     		this.matchid = null;
ğŸŸ© 67     		this.playersReady = false;
ğŸŸ© 68     		this.preventSetup = false;
ğŸŸ© 69     		this.animations = new Animations(this);
ğŸŸ© 70     		this.queue = new CreatureQueue(this);
ğŸŸ© 71     		this.creatureIdCounter = 1;
ğŸŸ© 72     		this.creatureData = [];
ğŸŸ© 73     		this.pause = false;
ğŸŸ© 74     		this.gameState = 'initialized';
ğŸŸ© 75     		this.pauseTime = 0;
ğŸŸ© 76     		this.minimumTurnBeforeFleeing = 12;
ğŸŸ© 77     		this.availableCreatures = [];
ğŸŸ© 78     		this.animationQueue = [];
ğŸŸ© 79     		this.checkTimeFrequency = 1000;
ğŸŸ© 80     		this.gamelog = new GameLog(null, this);
ğŸŸ© 81     		this.configData = {};
ğŸŸ© 82     		this.match = {};
ğŸŸ© 83     		this.gameplay = {};
ğŸŸ© 84     		this.session = null;
ğŸŸ© 85     		this.client = null;
ğŸŸ© 86     		this.connect = null;
ğŸŸ© 87     		this.debugMode = false;
ğŸŸ© 88     		this.multiplayer = false;
ğŸŸ© 89     		this.matchInitialized = false;
ğŸŸ© 90     		this.realms = ['A', 'E', 'G', 'L', 'P', 'S', 'W'];
ğŸŸ© 91     		this.availableMusic = [];
ğŸŸ© 92     		this.soundEffects = [
ğŸŸ© 93     			'sounds/step',
ğŸŸ© 94     			'sounds/swing',
ğŸŸ© 95     			'sounds/swing2',
ğŸŸ© 96     			'sounds/swing3',
ğŸŸ© 97     			'sounds/heartbeat',
ğŸŸ© 98     			'sounds/drums',
ğŸŸ© 99     			'sounds/upgrade',
ğŸŸ© 100    		];
ğŸŸ© 101    		this.inputMethod = 'Mouse';
â¬œ 102    
â¬œ 103    		// Gameplay properties
â¬œ 104    		this.firstKill = false;
```
<br/>

The starting point for the game class is where we create the Phaser instance
If you are not familiar with Phaser game engine please read more [here](https://phaser.io/)

<div style="background: #e5ecff; padding: 10px 10px 10px 10px; border-bottom: 1px solid #c1c7d0; border-radius: 4px;">    ğŸ“„ src/game.js  </div>

```js
ğŸŸ© 110    		this.Phaser = new Phaser.Game(1920, 1080, Phaser.AUTO, 'combatwrapper', {
ğŸŸ© 111    			update: this.phaserUpdate.bind(this),
ğŸŸ© 112    			render: this.phaserRender.bind(this),
```
<br/>

Understanding the game mechanics will allow you to better debug and improve the game loop and logic flows

<br/>

<br/><br/>

This file was generated by Swimm. [Click here to view it in the app](https://swimm.io/link?l=c3dpbW0lM0ElMkYlMkZyZXBvcyUyRm5xMjh5MjNzcTBpYnB4ZG4xSkpUJTJGZG9jcyUyRlB2NmhZalpUSW9RVEhVSUZoaVB3). Timestamp: 2021-04-22T07:38:25.385Z
